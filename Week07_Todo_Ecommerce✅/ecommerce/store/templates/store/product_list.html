{% extends "base.html" %}
{% block content %}
<form method="get" class="flex gap-2 mb-6">
    <input type="text" name="search" value="{{ search }}" 
           placeholder="Search product..."
           class="border px-3 py-2 rounded w-full">

    <input type="number" name="min" value="{{ min_price }}"
           placeholder="Min Price"
           class="border px-3 py-2 w-32 rounded">

    <input type="number" name="max" value="{{ max_price }}"
           placeholder="Max Price"
           class="border px-3 py-2 w-32 rounded">

    <button class="bg-blue-600 text-white px-4 py-2 rounded">
        Apply
    </button>
</form>


<div class="grid grid-cols-3 gap-4">
    {% for p in products %}
        <div class="border rounded p-3">
            <img src="{{ p.image.url }}" class="w-full h-40 object-cover rounded">
            <h2 class="text-lg font-semibold mt-2">{{ p.title }}</h2>
            <p class="text-gray-600">Rs. {{ p.price }}</p>

            <a href="{% url 'product_detail' p.id %}" 
               class="text-blue-600">View Details</a>
        </div>
    {% empty %}
        <p>No products found.</p>
    {% endfor %}
</div>

<h2 class="mb-4">Products</h2>

<div class="row">
    {% for p in products %}
        <div class="col-md-4 mb-4">
            <div class="card">
                <img src="{{ p.image.url }}" class="card-img-top" alt="{{ p.title }}">
                <div class="card-body">
                    <h5>{{ p.title }}</h5>
                    <p><b>PKR {{ p.price }}</b></p>
                    <a href="{% url 'product_detail' p.id %}" class="btn btn-primary w-100">
                        View Details
                    </a>
                </div>
            </div>
        </div>
    {% endfor %}
</div>

{% endblock %}
